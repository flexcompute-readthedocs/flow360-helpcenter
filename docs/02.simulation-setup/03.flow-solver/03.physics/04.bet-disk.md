# BET Disk Model

*The BET (Blade Element Theory) Disk model in Flow360 simulates the effect of rotor or propeller blades using blade element theory without requiring a detailed blade mesh.*

---

## **Available Parameters**

| *Parameter* | *Description* | *Applicable* | 
|-------------|---------------|--------------|
| **BET data source** | The type of file for BET disk definition | always |
| **Assigned volumes** | Cylinder entity defining disk location and dimensions | always |
| **Rotation direction rule** | Rule for rotation direction and thrust direction | always |
| **Number of blades** | Number of blades to model | always |
| **Omega** | Rotational speed of the propeller/rotor | always |
| **Reference chord** | Reference chord for sectional loadings computation | always |
| **Loading nodes** | Number of nodes for calculating sectional thrust/torque | always |
| **Tip gap** | Distance between blade tip and solid bodies | always |
| **Blade line chord** | Chord for unsteady BET Line simulation | always |
| **Initial blade direction** | Orientation of first blade | when **[Time](../02.time.md)** is `Unsteady` |
| **Twist** | Plot of the imported blade twists and chords | when **[Time](../02.time.md)** is `Unsteady` |
| **Coefficients** | Plots of lift and drag coefficients of the imported blade| always |


---

## **Detailed Descriptions**

### **BET data source**

*A method of defining the BET disk using different data formats.*

- **Options:** 
  - `Flow 360`
    - A legacy file used to define BET manually using a coefficient table for given sections and a list of twists and chords. 
  - `Xrotor`
    - XROTOR is a common low-fidelity rotor analysis tool
    - The XROTOR translator extracts blade geometry, twist and chord distribution, and sectional polars
    - Some parameters (RPM, number of blades) in the XROTOR file are ignored and must be specified separately
  - `DFDC`  
    - Similar to XROTOR but designed for ducted fans
    - The duct part of the DFDC input file is NOT used
    - To simulate a ducted fan, mesh the duct geometry separately and position the BET disk correctly

### **Assigned volumes**

*The cylinder entity that defines the location and dimensions of the disk. The cylinder's center, axis, outer radius, and height are taken as the rotation center, rotation axis, radius, and thickness of the BET Disk, respectively.*

- **Required**
>**Note:** The cylinder entity must be properly sized and positioned to represent the rotor disk.

### **Rotation direction rule**

*The rule for relating rotation direction and thrust direction.*

- **Default:** `Left hand`
- **Options:** `Right hand` or `Left hand`
>**Note:** Determines whether the rotor follows the right-hand or left-hand rule for rotation relative to the thrust axis.

### **Omega**

*The rotational speed of the propeller or rotor.*

- **Required**
- **Example:** `812.31 RPM`
>**Note:** Can be specified in various angular velocity units such as rad/s or rpm.

### **Number of blades**

*The number of blades to model in the BET simulation.*

- **Required**
- **Range:** `1`-`10`
>**Note:** Must be a positive integer, representing the physical blade count of the propeller or rotor.

### **Chord ref**

*Dimensional reference chord used to compute sectional blade loadings.*

- **Default:** None (required parameter)
- **Example:** `0.1 m`
>**Note:** This value is used in the calculation of sectional thrust and torque coefficients.

### **N loading nodes**

*Number of nodes used to compute the sectional thrust and torque coefficients.*

- **Required**
- **Range:** `1`-`1000`
- **Example:** `20`
>**Note:** Recommended value is 20. More nodes provide more detailed radial loading distribution at the cost of computation time.

### **Tip gap**

*Dimensional distance between blade tip and solid bodies to define a tip loss factor.*

- **Default:** `inf`
- **Example:** `0.01 m`
>**Notes:** 
>- `inf` represents an open propeller with no tip loss reduction from nearby structures
>- A finite value represents the gap between blade tips and structures like ducts


### **Blade line chord**

*Dimensional chord to use if performing an unsteady BET Line simulation.*

- **Default:** `0 * u.m`
- **Example:** `0.1 * u.m`
>**Note:** Default of 0.0 indicates a steady BET Disk simulation. Set to a positive value for unsteady BET Line simulation.

### **Initial blade direction**

*Orientation of the first blade in the BET model.*

- **Default:** None
- **Example:** `[1, 0, 0]`
>**Note:** Must be specified if performing an unsteady BET Line simulation. Defines the starting position of the first blade.


---

### **File Input Options**

Flow360 provides multiple ways to set up BET Disk models through file imports:

#### `XROTOR Format`

*Import propeller geometry and performance data from XROTOR files.*

- XROTOR is a common low-fidelity rotor analysis tool
- The XROTOR translator extracts blade geometry, twist and chord distribution, and sectional polars
- Some parameters (RPM, number of blades) in the XROTOR file are ignored and must be specified separately

#### `DFDC Format`

*Import ducted fan geometry and performance data from DFDC files.*

- Similar to XROTOR but designed for ducted fans
- The duct part of the DFDC input file is NOT used
- To simulate a ducted fan, mesh the duct geometry separately and position the BET disk correctly

#### `C81 Format`

*Import airfoil data using the C81 format common in helicopter analysis (Python API only).*

- C81 files contain sectional aerodynamic coefficients for various Mach and Reynolds numbers
- Multiple C81 files can be used for different radial sections

#### `XFoil Format`

*Import airfoil data generated from XFoil analysis (Python API only).*

- XFoil is a common airfoil analysis tool
- Data includes airfoil polars at various angles of attack

---

<details>
<summary><h3 style="display:inline-block"> üí° Tips</h3></summary>

- For initial simulations, start with the BET Disk (steady) approach before moving to BET Line (unsteady)
- Ensure sufficient mesh resolution across the disk thickness (at least 20 nodes recommended)
- Base thrust and pitch distribution on experimental or analytical data when possible
- Verify that your airfoil polar data covers the full range of expected operating conditions
- For open rotors, use "inf" for the tip gap parameter
- For ducted fans, set the tip gap to the actual distance between blade tips and duct wall
- Use appropriate rotation direction rule based on your propeller configuration
- When using file imports, check that the imported data is consistent with your geometry

</details>

---

<details>
<summary><h3 style="display:inline-block"> ‚ùì Frequently Asked Questions</h3></summary>

- **When should I use BET Disk instead of a simpler Actuator Disk?**  
  > Use BET Disk when you need a more accurate representation of blade aerodynamics, including effects of blade geometry, twist distribution, and airfoil characteristics. BET is more accurate for predicting wake structures and performance variations with flow conditions.

- **What's the difference between BET Disk and BET Line?**  
  > BET Disk is a steady-state model that averages the effect of all blades across the entire disk. BET Line is time-accurate and models individual blades, capturing periodic effects. Use BET Disk for steady simulations and BET Line when blade passing effects are important.

- **How do I select appropriate airfoil polars?**  
  > Use polar data for the actual airfoils used in your blade design. If unavailable, choose similar airfoils and adjust for differences in thickness and camber. Ensure data covers the full range of expected angles of attack and Mach numbers.

- **What should I set for the number of loading nodes?**  
  > The recommended value is 20, which provides good resolution of spanwise loading variations without excessive computational cost. Increase for highly loaded or complex blade designs.

- **How do I handle the hub region?**  
  > The hub is typically modeled as a non-active region. The inner portion of the disk where the hub is located will not contribute to thrust or torque calculations.

- **Can I model contra-rotating propellers?**  
  > Yes, create two separate BET Disk models with opposite rotation directions, positioned in sequence along the flow path.

- **What's the relevance of the tip gap parameter?**  
  > This parameter affects the tip loss calculation. Use "inf" for open rotors. For ducted propellers, set it to the actual gap between blade tips and the duct, which will reduce tip losses.

</details>

---

<details>
<summary><h3 style="display:inline-block"> üìä Common Applications</h3></summary>

### Helicopter Rotors
- Main and tail rotors
- Can capture thrust, torque, and general wake characteristics
- Useful for interference effects in multi-rotor configurations

### Aircraft Propellers
- Fixed-wing propulsion
- Tilt-rotor applications
- Ducted propellers
- Contra-rotating configurations

### Marine Propulsors
- Ship propellers
- Submarine propulsors
- Waterjet systems

### Wind Turbines
- Allows analysis of turbine performance
- Useful for wind farm analysis where multiple turbines interact

</details>

---

<details>
<summary><h3 style="display:inline-block"> üêç Python Example Usage</h3></summary>

Below is an example of how to configure a BET Disk model using the Flow360 Python API:

```python
# Example (for reference only, not included in GUI documentation)
bet_disk = fl.BETDisk(
    entities=[fl.Cylinder(
        name="bet_disk",
        center=(0,0,0)*fl.u.m,
        axis=(1,0,0),
        outer_radius=0.5*fl.u.m,
        height=0.03*fl.u.m,
    )],
    rotation_direction_rule="rightHand",
    number_of_blades=3,
    omega=800*fl.u.rpm,
    chord_ref=0.1*fl.u.m,
    n_loading_nodes=20,
    mach_numbers=[0],
    reynolds_numbers=[1e6],
    twists=[
        fl.BETDiskTwist(radius=0.1*fl.u.m, twist=30*fl.u.deg),
        fl.BETDiskTwist(radius=0.5*fl.u.m, twist=5*fl.u.deg)
    ],
    chords=[
        fl.BETDiskChord(radius=0.1*fl.u.m, chord=0.05*fl.u.m),
        fl.BETDiskChord(radius=0.5*fl.u.m, chord=0.03*fl.u.m)
    ],
    alphas=[-10, -5, 0, 5, 10, 15]*fl.u.deg,
    sectional_radiuses=[0.1, 0.5]*fl.u.m,
    sectional_polars=[
        fl.BETDiskSectionalPolar(
            lift_coeffs=[[[0.0, 0.2, 0.4, 0.8, 1.0, 0.9]]],
            drag_coeffs=[[[0.01, 0.01, 0.02, 0.04, 0.1, 0.2]]]
        ),
        fl.BETDiskSectionalPolar(
            lift_coeffs=[[[0.0, 0.3, 0.6, 0.9, 1.1, 1.0]]],
            drag_coeffs=[[[0.01, 0.01, 0.015, 0.03, 0.08, 0.15]]]
        )
    ]
) 
```

</details>