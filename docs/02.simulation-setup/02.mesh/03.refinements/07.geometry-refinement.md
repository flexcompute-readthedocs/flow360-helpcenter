# Geometry Refinement

*Geometry refinement allows for controlling the resolution of the surface mesh by defining the smallest geometric features to be captured. It ensures that the mesh accurately represents the geometry down to a specified length scale. Geometry AI needs to be enabled to use this feature.*

---

## **Available Options**

| *Option* | *Description* |
|------------|-----------------|
| **Geometry accuracy** | The smallest length scale to be accurately resolved by the surface mesher. |
| **Assigned surfaces** | The surfaces to which the refinement is applied. |

---

## **Detailed Descriptions**

### **Geometry accuracy**

*Specifies the minimum length scale that the surface meshing process will accurately resolve.*

- **Required**
- **Example:** `0.01 m`

### **Assigned surfaces**

*The list of surfaces where the geometry refinement will be applied.*

- **Required**
> **Notes:**
> - Must reference valid surface entities in the geometry.
> - Surfaces can be assigned from the list using the `+` button or by graphical selection in the viewer.

---

<details>
<summary><h3 style="display:inline-block"> üí° Tips</h3></summary>

- Use this refinement to ensure small but important geometric features (e.g., sharp corners, small fillets) are not lost during meshing.
- A smaller `Geometry accuracy` value will result in a finer mesh and consequently a larger cell count and longer computation time.
- Start with a larger value and decrease it iteratively to find the optimal balance between accuracy and computational cost.

</details>

---

<details>
<summary><h3 style="display:inline-block"> ‚ùì Frequently Asked Questions</h3></summary>

- **What is a typical value for Geometry accuracy?**  
  > The value is highly dependent on the specific geometry and the scale of the features you want to capture. It should be smaller than the smallest important feature size. For example, for a vehicle simulation, you might want to resolve features on the scale of millimeters.

- **What is the difference between Geometry Refinement and Surface Refinement?**  
  > `Surface Refinement` controls the maximum edge length of surface cells directly. `Geometry Refinement` provides a more automated way of refining the mesh based on geometric curvature and feature size, driven by geometry AI.

</details>

---

<details>
<summary><h3 style="display:inline-block"> üêç Python Example Usage</h3></summary>

```python
import flow360 as fl

geometry_refinement = fl.GeometryRefinement(
    name="fine_features_refinement",
    faces=[geometry["wing_surface"], geometry["fuselage_surface"]],
    geometry_accuracy=0.001 * fl.u.m
)
```
</details>
