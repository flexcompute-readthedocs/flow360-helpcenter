# Probe Outputs

*Probe outputs in Flow360 allow you to track flow field variables at specific locations during the simulation, providing real-time feedback on how your solution is developing.*

---

## **Available Options**

| *Option* | *Description* |
|----------|---------------|
| **Output fields** | Flow variables to monitor at specified locations |
| **Probes** | Points or point arrays where variables will be monitored |

---

## **Detailed Descriptions**


### **Output fields**

*The flow variables that will be monitored at the specified probe locations.*

- **Default:** None (user must select at least one field)
- **Example:** `primitiveVars`, `Cp`, `Mach`
>**Notes:** probe outputs support all [Universal Fields](./00.output-fields.md#universal-fields). See the [Available Output Fields](./00.output-fields.md) page for a complete reference.

### **Probes**

*The specific points or arrays of points where flow variables will be monitored. Regardless of the motion of the mesh, the points retain their positions in the global reference frame during the simulation.*

- **Default:** None (user must define at least one probe)
- **Example:** A point at `(0, 1.5, 0)`, or a line of points between two locations
>**Note:** Points can be added individually or as arrays (lines) with evenly distributed points.

- **Adding Probes:**
  - Click the "+" button or "Select from 3D scene or list" button in the Probes section
  - Choose "New point" to add a single probe point
  - Choose "New point array" to create a line of evenly spaced points

- **Point Definition:** The creation of points is described in detail [here](../../../04.entities-browser/05.points.md)

---

<details>
<summary><h3 style="display:inline-block"> üí° History Files</h3></summary>

Probe outputs generate history files that track time-series data during simulations. These files are stored in CSV format and updated throughout the simulation, allowing for real-time monitoring and post-processing.

#### Types of History Files

- **Standard Probe History Files**
  - Probe outputs: Records flow variables at specified points in the volume
  - Surface probe outputs: Records flow variables at points projected onto surfaces
  - Surface integral outputs: Records integrated forces and moments on surfaces

- **Special Purpose History Files**
  - **Actuator Disk Output**: Records thrust, torque, and power data for actuator disk models
  - **BET Loading Output**: Records force and moment data for blade element theory models
  - **Heat Transfer**: Records heat flux and temperature data

#### Using History Files

History files can be used for:
- Real-time monitoring of simulation progress
- Convergence assessment
- Time-series analysis
- Frequency analysis (for unsteady simulations)
- Verification and validation against experimental data

#### Output Format

Probe data is saved in CSV format for easy plotting and analysis. The data is updated at the specified frequency during the simulation, allowing real-time monitoring of the solution progress.

</details>

---

<details>
<summary><h3 style="display:inline-block"> ‚ùì Frequently Asked Questions</h3></summary>

- **What's the difference between Probe output and Surface Probe Output?**  
  > Probe output monitors flow variables at exact 3D coordinates within the volume, while Surface Probe Output projects the specified points onto the nearest surface and monitors variables at those projected locations.

- **Can I monitor multiple variables at the same point?**  
  > Yes, you can select multiple output fields for any monitor point or group of points.

- **How do I create a line of probe points?**  
  > Use the "New point array" option when adding probes to create a line between two specified points with a chosen number of intermediate points.

- **Can I select probe points from the 3D scene?**  
  > Yes, you can use the "Select from 3D scene or list" button in the Probes section to pick points visually from the 3D scene.

- **How do I integrate forces on a surface?**  
  > Use Surface Integral Output with appropriate UserDefinedFields to calculate integrated forces and moments over surfaces.

- **How frequently are probe outputs updated?**  
  > By default, probe outputs are updated at every iteration for steady simulations and at every time step for unsteady simulations.

</details>

---

<details>
<summary><h3 style="display:inline-block"> üêç Python Example Usage</h3></summary>

#### Probe Output Example

```python
# Define a probe output with individual points and point arrays
probe_output = fl.ProbeOutput(
    name="probe_group_points_and_lines",
    entities=[  # The entities list corresponds to the 'Probes' section in the GUI
        fl.Point(
            name="Point_1",
            location=(0.0, 1.5, 0.0) * fl.u.m,
        ),
        fl.Point(
            name="Point_2",
            location=(0.0, -1.5, 0.0) * fl.u.m,
        ),
        fl.PointArray(
            name="Line_1",
            start=(1.0, 0.0, 0.0) * fl.u.m,
            end=(1.5, 0.0, 0.0) * fl.u.m,
            number_of_points=6,
        ),
        fl.PointArray(
            name="Line_2",
            start=(-1.0, 0.0, 0.0) * fl.u.m,
            end=(-1.5, 0.0, 0.0) * fl.u.m,
            number_of_points=3,
        ),
    ],
    output_fields=["primitiveVars"],
)
```

#### Surface Probe Output Example

```python
# Define a surface probe output
surface_probe_output = fl.SurfaceProbeOutput(
    name="surface_probe_group_points",
    entities=[
        fl.Point(
            name="Point_1",
            location=(0.0, 1.5, 0.0) * fl.u.m,
        ),
        fl.Point(
            name="Point_2",
            location=(0.0, -1.5, 0.0) * fl.u.m,
        ),
        fl.PointArray(
            name="Line_surface",
            start=(1.0, 0.0, 0.0) * fl.u.m,
            end=(1.0, 0.0, -10.0) * fl.u.m,
            number_of_points=11,
        ),
    ],
    target_surfaces=[
        geometry["wall"],
    ],
    output_fields=["heatFlux", "T"],
)
```

#### Surface Integral Output Example

```python
# Define a surface integral output
surface_integral_output = fl.SurfaceIntegralOutput(
    name="surface_integral",
    output_fields=["PressureForce"],
    entities=[volume_mesh["wing1"], volume_mesh["wing2"]],
)
```

</details>