# Time-averaging Streamline Output

*Time-averaging Streamline Output in Flow360 allows you to visualize time-averaged streamlines during unsteady simulations. Streamtraces are computed upwind and downwind, and may originate from a single point, from a line, or from points evenly distributed across a parallelogram.*

> **Note**: Time-averaging outputs are only available when using unsteady time stepping methods.

---

## **Available Options**

| *Option* | *Description* |
|----------|---------------|
| **Output fields** | Flow variables to include along streamlines |
| **Start step** | Physical time step to start calculating averaging |
| **Assigned points** | Points indicating the locations of streamlines |

---

## **Detailed Descriptions**

### **Output fields**

*The flow variables that will be included along the time-averaged streamlines.*

- **Default:** None (user must select at least one field)
- **Example:** `pressure`, `velocity`, `Mach`
>**Note:** Vector-valued fields will be colored by their magnitude. See [Available Output Fields](./00.output-fields.md) for a complete list of supported variables.

### **Start step**

*The physical time step at which time-averaging begins.*

- **Default:** `-1` (at end of simulation)
- **Example:** `100` (begin averaging from the 100th physical time step)
>**Notes:** 
> - Use positive integers to start averaging from a specific time step.
> - Set this to a time step after initial transients have settled for more meaningful statistics.
> - Important for child cases - this parameter refers to the **global** time step, which gets transferred from the parent case.

### **Assigned points**

*Points that define the placement of streamlines. Streamtraces are computed upwind and downwind, and may originate from a single point, from a line, or from points evenly distributed across a parallelogram.*

- **Point Definition:** The creation of points is described in detail [here](../../../01.introduction/03.workbench-layout/06.entities-browser/05.points.md)
  
>**Notes:** 
> - You can specify individual points or arrays of points to seed streamlines at multiple locations. 
> - Points can be defined in the GUI or via the Python API.

---

<details>
<summary><h3 style="display:inline-block"> ‚ùì Frequently Asked Questions</h3></summary>

- **What happens if I set Start Step to -1?**  
  > Setting Start Step to -1 means the time-averaged output will only be calculated and saved at the end of the simulation, providing a single averaged value over the entire simulation.

- **Can I use time-averaging streamlines with steady simulations?**  
  > No, time-averaged outputs are only available when using unsteady time stepping methods, as they require time evolution to calculate meaningful averages.

</details>

---

<details>
<summary><h3 style="display:inline-block"> üêç Python Example Usage</h3></summary>

```python
# Example of setting up time-averaged streamline output in Python
time_avg_streamline_output = fl.TimeAverageStreamlineOutput(
    entities=[
        fl.Point(
            name="Point_1",
            location=(0.0, 1.5, 0.0) * fl.u.m,
        ),
        fl.Point(
            name="Point_2",
            location=(0.0, -1.5, 0.0) * fl.u.m,
        ),
        fl.PointArray(
            name="Line_streamline",
            start=(1.0, 0.0, 0.0) * fl.u.m,
            end=(1.0, 0.0, -10.0) * fl.u.m,
            number_of_points=11,
        ),
        fl.PointArray2D(
            name="Parallelogram_streamline",
            origin=(1.0, 0.0, 0.0) * fl.u.m,
            u_axis_vector=(0, 2.0, 2.0) * fl.u.m,
            v_axis_vector=(0, 1.0, 0) * fl.u.m,
            u_number_of_points=11,
            v_number_of_points=20
        )
    ],
    output_fields=[fl.solution.pressure, fl.solution.velocity],
    start_step=400,
)
```

</details>
