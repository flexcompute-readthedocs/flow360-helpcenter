# Variable Settings

*The Variable Settings tab allows you to create and manage user-defined variables for use in simulations and post-processing. Variables can be defined using mathematical expressions involving constants, units, and other variables.*

---

## **Accessing Variable Settings**

<div align="center">

![Settings](Figures/settings.png)

</div>

---

## **Variable Types**

The Variable Settings tool organizes variables into different categories through a tabbed interface:

### **Custom Variables**

The "Custom variables" tab displays user-defined variables in a table format with columns:

- **Name**: The variable name (e.g., `velocity_ref`, `rho`, `q_inf`)
- **Expression**: The mathematical expression defining the variable (e.g., `100*u.m/u.s`, `1.225*u.kg/u.m**3`, `0.5*rho*velocity_ref**2`)
- **Description**: Optional description field for documenting the variable

#### **Simulation Parameter**

Variables that can be used as inputs to the simulation, such as boundary condition values.

#### **Post-processing**

Variables defined for output and visualization purposes.

### **Solution Variables**

Contains all the available parameters from the solver.

---

## **Library**

The library allows you to pre-define variables which can be later imported to the custom variable panel.

---

## **Creating Variables**

To create a new variable:

1. Open the Variable Settings tool from the viewer toolbar
2. Navigate to the "Custom variables" tab (default tab when the modal opens)
3. Click the green "+ Add variable" button located to the right of the variables table
4. Enter the variable name in the "Name" column
5. Define the expression in the "Expression" box using:
   - Constants with units (e.g., `100*u.m/u.s`)
   - Mathematical operations (`+`, `-`, `*`, `/`, `**`)
   - References to other variables
   - Solution variables
6. Optionally add a description in the "Description" box

### **Importing from Solution Variables Library**

To import solution variables into custom variables:

1. Navigate to the "Solution variables" tab
2. Select the "Library" sub-tab
3. Check the checkbox: "Select variables in the library and import it into custom variable and then use it."
4. Select variables from the library table
5. Imported variables will appear in the "Custom variables" tab and can be used in expressions

---

## **Variable Expression Syntax**

Variables support a rich expression syntax:

- **Units**: Access units through the `u` namespace (e.g., `u.m`, `u.s`, `u.kg`, `u.Pa`)
- **Mathematical operations**: Standard arithmetic and functions
- **Variable references**: Reference other custom variables by name
- **Solution variables**: Access solver quantities

---

## **Example Variables**

Common variable definitions include:

```python
# Reference velocity
velocity_ref = 100*u.m/u.s

# Reference density
rho = 1.225*u.kg/u.m**3

# Dynamic pressure
q_inf = 0.5*rho*velocity_ref**2
```

---

<details>
<summary><h3 style="display:inline-block">‚ùì Frequently Asked Questions</h3></summary>

- **Where can I use custom variables?**  
  > Custom variables can be used in boundary conditions, initial conditions, output expressions, and other simulation parameters that accept expressions.

- **What happens if I reference a variable that doesn't exist?**  
  > Flow360 will display an error indicating that the variable is not defined. Make sure to define variables before referencing them.

- **Can I import variables from a library?**  
  > The Variable Settings tool includes a library feature that allows you to select and import pre-defined solution variables into your custom variables.

- **How do I delete a variable?**  
  > Variables can be removed through the Variable Settings interface. Note that variables referenced elsewhere may need to be updated first.

</details>
