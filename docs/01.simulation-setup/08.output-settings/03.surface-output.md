# Surface Output

Surface Output in Flow360 lets you visualize flow field variables on the surfaces of your geometry or volume mesh. This is essential for analyzing boundary layer effects, surface pressure distributions, heat transfer, and other surface-related phenomena.

## Configuration

In the **Output Settings** panel, you can create a new Surface Output by clicking the **Add Output** button and selecting **Surface Output**.

### Basic Settings

- **Name**: A descriptive name for the output (defaults to "Surface output")
- **Output Format**: Choose between "paraview", "tecplot", or "both" (defaults to "paraview")
- **Surfaces**: Select the boundary surfaces to include in the output
- **Output Fields**: Select the flow variables to include in the output

### Animation Settings

- **Frequency**: How often to save outputs, in number of physical time steps (defaults to -1, which means only at the end of simulation)
- **Frequency Offset**: The time step at which to start the output animation (defaults to 0, beginning of simulation)

### Additional Options

- **Write Single File**: When enabled, all surface outputs are written to a single file instead of one file per surface (defaults to false). This option currently only supports Tecplot output format.

## Available Output Fields

Surface Output supports the following output field categories:

### Universal Variables

- `Cp` - Coefficient of pressure (non-dimensional)
- `Cpt` - Coefficient of total pressure (non-dimensional)
- `gradW` - Gradient of primitive solution (non-dimensional)
- `kOmega` - k and omega (non-dimensional)
- `Mach` - Mach number (non-dimensional)
- `mut` - Turbulent viscosity (non-dimensional)
- `mutRatio` - Turbulent viscosity and freestream dynamic viscosity ratio (non-dimensional)
- `nuHat` - Spalart-Almaras variable (non-dimensional)
- `primitiveVars` - Density, velocities (u,v,w), and pressure (non-dimensional)
- `qcriterion` - Q criterion (non-dimensional)
- `residualNavierStokes` - N-S residual (non-dimensional)
- `residualTransition` - Transition residual (non-dimensional)
- `residualTurbulence` - Turbulence residual (non-dimensional)
- `s` - Entropy (non-dimensional)
- `solutionNavierStokes` - N-S solution (non-dimensional)
- `solutionTransition` - Transition solution (non-dimensional)
- `solutionTurbulence` - Turbulence solution (non-dimensional)
- `T` - Temperature (non-dimensional)
- `velocity` - Velocity vector (non-dimensional)
- `velocity_x` - X-component of velocity (non-dimensional)
- `velocity_y` - Y-component of velocity (non-dimensional)
- `velocity_z` - Z-component of velocity (non-dimensional)
- `velocity_magnitude` - Magnitude of velocity vector (non-dimensional)
- `pressure` - Pressure (non-dimensional)
- `vorticity` - Vorticity (non-dimensional)
- `vorticityMagnitude` - Vorticity Magnitude (non-dimensional)
- `wallDistance` - Wall distance (non-dimensional)
- `numericalDissipationFactor` - NumericalDissipationFactor sensor (non-dimensional)
- `residualHeatSolver` - Heat equation residual (non-dimensional)
- `VelocityRelative` - Velocity with respect to non-inertial frame (non-dimensional)
- `lowMachPreconditionerSensor` - Low-Mach preconditioner factor (non-dimensional)

### Dimensioned Variables

- `velocity_m_per_s` - Velocity vector (in m/s)
- `velocity_x_m_per_s` - X-component of velocity (in m/s)
- `velocity_y_m_per_s` - Y-component of velocity (in m/s)
- `velocity_z_m_per_s` - Z-component of velocity (in m/s)
- `velocity_magnitude_m_per_s` - Magnitude of velocity vector (in m/s)
- `pressure_pa` - Pressure (in Pa)

### Surface-Specific Variables

- `CfVec` - Skin friction coefficient vector (non-dimensional)
- `Cf` - Magnitude of skin friction coefficient (non-dimensional)
- `heatFlux` - Non-dimensional heat flux (non-dimensional)
- `nodeNormals` - Wall normals (non-dimensional)
- `nodeForcesPerUnitArea` - Forces per unit area (non-dimensional)
- `yPlus` - Non-dimensional wall distance (non-dimensional)
- `wallFunctionMetric` - Wall function metrics (non-dimensional)
- `heatTransferCoefficientStaticTemperature` - Surface heat transfer coefficient (static temperature as reference) (non-dimensional)
- `heatTransferCoefficientTotalTemperature` - Surface heat transfer coefficient (total temperature as reference) (non-dimensional)
- `wall_shear_stress_magnitude` - Wall shear stress magnitude (non-dimensional)
- `wall_shear_stress_magnitude_pa` - Wall shear stress magnitude (in Pa) **[Recommended method, available since version 25.2]**

## Key Surface Output Fields for Analysis

### Pressure Coefficient (Cp)

The pressure coefficient is one of the most important surface fields for analyzing aerodynamic performance:

- It shows the distribution of pressure on the surface relative to freestream conditions
- Negative values indicate suction (lower than freestream pressure)
- Positive values indicate pressure (higher than freestream pressure)
- For aircraft analysis, compare upper and lower surface Cp to understand lift generation
- Rapid changes in Cp can indicate shock waves or separation points

To calculate the dimensional pressure from Cp:
```
p (N/m²) = Cp × (1/2)ρ∞ × U_ref² + p∞
```

### Skin Friction Coefficient (Cf, CfVec)

The skin friction coefficient is critical for analyzing boundary layer behavior:

- `CfVec` provides both magnitude and direction of skin friction
- `Cf` gives only the magnitude
- Useful for identifying:
  - Regions of high skin friction (and thus drag)
  - Boundary layer separation points
  - Flow reversal areas

Visualization techniques:
- Color surface by the streamwise component of `CfVec` (e.g., `CfVecX` for flow primarily in the x-direction)
- Use a 3-level color scale centered at zero to easily identify attached flow (positive values) and separated flow (negative values)
- Create surface streamlines based on the `CfVec` field instead of velocity to visualize surface flow patterns

For dimensional wall shear stress, use the `wall_shear_stress_magnitude_pa` field which provides values directly in Pascals (N/m²), eliminating the need for manual conversion. This feature is available since Flow360 version 25.2.

### Node Forces Per Unit Area

The `nodeForcesPerUnitArea` field represents the force (pressure + friction) applied at each surface node divided by the surface area attributed to that node. This field is particularly useful for:

- Calculating sectional loading values
- Analyzing pressure and shear force distribution
- Identifying areas of high loading

When integrated over the entire surface, this field equals the total forces acting on the surface.

## Visualization Tips

- **For pressure analysis**: Use `Cp` with a consistent color scale across different configurations for valid comparisons
- **For boundary layer analysis**: Use `CfVec` components and `yPlus` together
- **For separation detection**: Create surface streamlines using `CfVec` or look for negative streamwise component values
- **For heat transfer analysis**: Use `heatFlux` and heat transfer coefficient fields

## Time-Averaged Surface Output

> **Note**: Time-averaged outputs are only available when using unsteady time stepping.

For unsteady simulations, you can create time-averaged data on surfaces by enabling the time-averaging option in the Output Settings panel. This generates time-averaged values of the selected output fields.

The **Start Step** setting controls when averaging begins (defaults to automatic detection). Time-averaged outputs provide statistical data that is useful for analyzing unsteady flow features. 